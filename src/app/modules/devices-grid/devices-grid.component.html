<ng-template [ngTemplateOutlet]="devicesTemplate"
             [ngTemplateOutletContext]="{
                 wingData: data.leftWing,
                 title: 'Левое Крыло'
             }"
></ng-template>
<div class="sg-devices-grid__separator"></div>
<ng-template [ngTemplateOutlet]="devicesTemplate"
             [ngTemplateOutletContext]="{
                 wingData: data.rightWing,
                 title: 'Правое Крыло'
             }"
></ng-template>

<ng-template #devicesTemplate
             let-wingData="wingData"
             let-title="title">
    <div class="sg-devices-grid__row-title">
        <span class="sg-devices-grid__row-title tui-text_body-m">
            {{ title }}
        </span>
    </div>
    <div class="sg-devices-grid__row">
        <div class="sg-devices-grid__row-battery-ru">
            <sg-generic-model-device-view
                *ngFor="let modelData of wingData.ru; let idx=index;"
                modelName="RUModel"
                [config]="{
                    title: 'РУ #' + (idx + 1),
                    icon: 'tuiIconMinimize'
                }"
                [data]="modelData"
            ></sg-generic-model-device-view>
            <sg-generic-model-device-view
                class="sg-devices-grid__row-battery-ru__battery"
                *ngFor="let modelData of wingData.bms; let idx=index;"
                modelName="BMSModel"
                [config]="{
                    title: 'Батарея #' + (idx + 1),
                    icon: 'tuiIconBatteryCharging'
                }"
                [data]="modelData"
            ></sg-generic-model-device-view>
        </div>
        <div class="sg-devices-grid__row-impellers">
            <sg-generic-model-device-view
                *ngFor="let modelData of wingData.impellers; let idx=index;"
                modelName="ImpellerModel"
                [config]="{
                    title: 'Импеллер #' + (idx + 1),
                    icon: 'tuiIconZap'
                }"
                [data]="modelData"
            ></sg-generic-model-device-view>
        </div>
    </div>
</ng-template>
